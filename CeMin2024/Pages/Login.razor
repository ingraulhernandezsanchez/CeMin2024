@page "/login"
@inject HttpClient Http
@code {
    private string Username { get; set; }
    private string Password { get; set; }
    private string SelectedRole { get; set; }
    private List<string> Roles { get; set; } = new();

    protected override async Task OnInitializedAsync()
    {
        // Llama al endpoint para obtener los roles
        var roles = await Http.GetFromJsonAsync<List<string>>("api/role");
        if (roles != null)
        {
            Roles = roles;
        }
    }

    private async Task HandleLogin()
    {
        // Aquí puedes manejar el evento de login usando Username, Password y SelectedRole
    }
}

<div class="login-container">
    <h2>Iniciar Sesión</h2>
    <form @onsubmit="HandleLogin">
        <label for="username">Usuario</label>
        <input type="text" id="username" @bind="Username" required />

        <label for="password">Contraseña</label>
        <input type="password" id="password" @bind="Password" required />

        <label for="role">Rol</label>
        <select id="role" @bind="SelectedRole">
            @foreach (var role in Roles)
            {
                <option value="@role">@role</option>
            }
        </select>

        <button type="submit">Ingresar</button>
    </form>
</div>

<style>
    .login-container {
        max-width: 400px;
        margin: 0 auto;
        padding: 20px;
        text-align: center;
    }
    /* Otros estilos de login */
</style>
